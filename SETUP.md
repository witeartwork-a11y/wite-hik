# üöÄ –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Wite-Hik

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PHP 7.4+ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º GD
- Git (–¥–ª—è git pull)
- –í–µ–±-—Å–µ—Ä–≤–µ—Ä (Apache, Nginx –∏ —Ç.–¥.)

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
cd /var/www/html
git clone https://github.com/witeartwork-a11y/wite-hik.git
cd wite-hik
```

### 2. –ó–∞—â–∏—Ç–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞—â–∏—Ç—ã
bash setup-protection.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
# –£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è git
git rm --cached data/products_config.json
git rm --cached -r uploads/
git rm --cached -r data/thumbnails/

# –°–æ–∑–¥–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥
cp .env.example .env.local
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env.local —Å –≤–∞—à–∏–º –ø–∞—Ä–æ–ª–µ–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```bash
# –î–∞—ë—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ –ø–∞–ø–∫–∏
chmod 755 /var/www/html/wite-hik
chmod 777 /var/www/html/wite-hik/uploads
chmod 777 /var/www/html/wite-hik/uploads/cloud
chmod 777 /var/www/html/wite-hik/data
chmod 777 /var/www/html/wite-hik/data/thumbnails
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PHP

–í `api.php` —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã:

```php
@ini_set('upload_max_filesize', '256M');
@ini_set('post_max_size', '256M');
@ini_set('memory_limit', '512M');
```

–ï—Å–ª–∏ –Ω—É–∂–Ω—ã –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è - –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `api.php` (–ù–ï –±—É–¥—É—Ç –∑–∞—Ç—ë—Ä—Ç—ã –ø—Ä–∏ git pull)

### 5. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://–≤–∞—à-—Å–∞–π—Ç.com/wite-hik/`
2. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∏–∑ `api.php` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `hikomori1hikomori1`)
3. –ù–∞—á–Ω–∏—Ç–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–∫–∞–ø—ã!

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å GitHub

```bash
# –ü—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ git pull
git pull origin main

# –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ù–ï –±—É–¥—É—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ã!
# –ó–∞—â–∏—â–µ–Ω—ã: uploads/, data/products_config.json, data/thumbnails/
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å!

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `api.php`, –Ω–∞–π–¥–∏—Ç–µ:

```php
$PASSWORD = 'hikomori1hikomori1'; 
```

–ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä–æ–ª—å:

```php
$PASSWORD = '–≤–∞—à_–Ω–æ–≤—ã–π_—Å–ª–æ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å_123ABC!@#'; 
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞

1. **–°–∫—Ä–æ–π—Ç–µ api.php –æ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞** (—á–µ—Ä–µ–∑ .htaccess –¥–ª—è Apache):

```apache
<Files "api.php">
    Deny from all
</Files>
```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞

3. **–†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ backup:**

```bash
# Backup —Ç–æ–ª—å–∫–æ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
tar -czf wite-hik-backup-$(date +%Y%m%d).tar.gz \
    data/products_config.json \
    uploads/ \
    data/thumbnails/
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

```
wite-hik/
‚îú‚îÄ‚îÄ index.html              # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ api.php                 # –°–µ—Ä–≤–µ—Ä (–ù–ï —Ç—Ä–æ–≥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å!)
‚îú‚îÄ‚îÄ .gitignore             # Git –∑–∞—â–∏—Ç–∞
‚îú‚îÄ‚îÄ .env.example           # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞
‚îú‚îÄ‚îÄ .env.local             # –õ–û–ö. –∫–æ–Ω—Ñ–∏–≥ (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å)
‚îú‚îÄ‚îÄ setup-protection.sh    # –°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ PROTECTION.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞—â–∏—Ç—ã
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ style.css
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ app.js
‚îÇ   ‚îú‚îÄ‚îÄ constants.js
‚îÇ   ‚îú‚îÄ‚îÄ utils.js
‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ products_config.json    (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å)
‚îÇ   ‚îú‚îÄ‚îÄ files.json
‚îÇ   ‚îî‚îÄ‚îÄ thumbnails/             (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å)
‚îî‚îÄ‚îÄ uploads/                    (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å)
    ‚îî‚îÄ‚îÄ cloud/
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –ø–∞–ø–∫—É uploads
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ GD –≤–∫–ª—é—á–µ–Ω–æ –≤ PHP

### "–ü–∞—Ä–æ–ª—å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `$PASSWORD` –≤ `api.php`
- –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Delete)

### "–î–∞–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä—è–Ω—ã –ø–æ—Å–ª–µ git pull"
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ backup (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `git reflog` –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–æ–≤

### "–ù–µ –º–æ–≥—É –∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `data/` –ø–∞–ø–∫–∞ –≤ `.gitignore`
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ `git rm --cached data/products_config.json`

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ cron:

```bash
# –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00 AM –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å GitHub
0 3 * * * cd /var/www/html/wite-hik && git pull origin main >> /var/log/wite-hik-pull.log 2>&1
```

---

–£–¥–∞—á–∏! üé®‚ú®
