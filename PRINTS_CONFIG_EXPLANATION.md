# –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–Ω—Ç–æ–≤ (Prints Config)

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### prints_config.json
–ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –≥–¥–µ –∫–ª—é—á–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è **–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏–Ω—Ç–æ–≤**:

```json
{
    "NAUMI_REF.png": {
        "transforms": {
            "p1": { "x": 1404.24, "y": 319.63, "scale": 5.2, "rotation": 0 },
            "p2": { "x": 0, "y": 0, "scale": 0.5, "rotation": 0 }
        },
        "productTransforms": {
            "p1": { "x": 1404.24, "y": 319.63, "scale": 5.2, "rotation": 0 },
            "p2": { "x": 0, "y": 0, "scale": 0.5, "rotation": 0 }
        }
    }
}
```

### data/prints_configs/ (–ø–∞–ø–∫–∞)
–û—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–æ–¥–∏–Ω –∫–æ–Ω—Ñ–∏–≥ = –æ–¥–∏–Ω —Ñ–∞–π–ª):

```
data/prints_configs/
‚îú‚îÄ‚îÄ a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6.json  (MD5 hash –æ—Ç "NAUMI_REF.png")
‚îú‚îÄ‚îÄ x9y8z7w6v5u4t3s2r1q0p9o8n7m6l5k4.json
‚îî‚îÄ‚îÄ ...
```

**–ò–º—è —Ñ–∞–π–ª–∞ = MD5 —Ö–µ—à –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–º–µ–Ω–∏:**
```php
$hash = md5("NAUMI_REF.png");  // = "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"
```

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞

–ü—Ä–∏ –≤—ã–∑–æ–≤–µ `loadPrintsConfig(printName)`:

1. **–°–æ–∑–¥–∞—ë—Ç —Ö–µ—à** –æ—Ç –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
2. **–ò—â–µ—Ç —Ñ–∞–π–ª** `data/prints_configs/{hash}.json`
3. **–ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω** ‚Üí –∏—â–µ—Ç –≤ `prints_config.json` –ø–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –∏–º–µ–Ω–∏
4. **–ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω** ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null`

```php
// api.php (—Å—Ç—Ä–æ–∫–∞ ~194)
if ($printName) {
    $hash = md5($printName);
    $file = $PRINTS_CONFIGS_DIR . '/' . $hash . '.json';
    
    if (file_exists($file)) {
        return file_contents($file);  // ‚úÖ –ù–∞–π–¥–µ–Ω
    }
    
    // Fallback
    if (file_exists($PRINTS_CONFIG_FILE)) {
        $allConfigs = json_decode(file_get_contents($PRINTS_CONFIG_FILE), true);
        if (isset($allConfigs[$printName])) {
            return $allConfigs[$printName];  // ‚úÖ –ù–∞–π–¥–µ–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ñ–∞–π–ª–µ
        }
    }
    
    return null;  // ‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω
}
```

## ‚úÖ –ü–æ—á–µ–º—É —ç—Ç–æ –ù–ï –ø—Ä–æ–±–ª–µ–º–∞

### –°–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ —Ö–µ—à–∞–º
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** - —Ö–µ—à —É–Ω–∏–∫–∞–ª–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–º–µ–Ω–∏
- **–ë—ã—Å—Ç—Ä–æ** - –æ–¥–∏–Ω —Ñ–∞–π–ª –Ω–∞ –ø—Ä–∏–Ω—Ç –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –±–æ–ª—å—à–æ–≥–æ
- **–ù–∞–¥—ë–∂–Ω–æ** - –Ω–µ—Ç –∫–æ–ª–ª–∏–∑–∏–π, –Ω–µ—Ç –æ—à–∏–±–æ–∫ —Ä—è–¥–æ–º

### –ì–∞—Ä–∞–Ω—Ç–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏
–°–∏—Å—Ç–µ–º–∞ –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–∏–º—è —Ñ–∞–π–ª–∞** –∫–∞–∫ –∫–ª—é—á, –∞ –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞—ë—Ç —Ö–µ—à:
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç: "NAUMI_REF.png"
   ‚Üì
–°–∏—Å—Ç–µ–º–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç: MD5("NAUMI_REF.png") = "a1b2c3..."
   ‚Üì
–°–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç: /data/prints_configs/a1b2c3....json
   ‚Üì
100% –≥–∞—Ä–∞–Ω—Ç–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞! ‚úÖ
```

**–ù–∏–∫–∞–∫–æ–π –ø—É—Ç–∞–Ω–∏—Ü—ã –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ!**

## üìç –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ

### collectionService.js - savePrintsToCloud()

**–ò–µ—Ä–∞—Ä—Ö–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π:**

```
1Ô∏è‚É£ –ü–û–ó–ò–¶–ò–ò –í –ö–û–õ–õ–ï–ö–¶–ò–ò (–∫–æ–ª–ª–µ–∫—Ü–∏—è React state)
   ‚îî‚îÄ –°–∞–º—ã–µ —Å–≤–µ–∂–∏–µ, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≠–¢–£ –°–ï–°–°–ò–Æ
   
2Ô∏è‚É£ –ö–û–ù–§–ò–ì –ò–ó –ë–î (prints_config.json)
   ‚îî‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –û–¢ –ü–†–ï–î–´–î–£–©–ò–• –°–ï–°–°–ò–ô
   
3Ô∏è‚É£ –ì–õ–û–ë–ê–õ–¨–ù–´–ï –¢–†–ê–ù–°–§–û–†–ú–ê–¶–ò–ò (transforms state)
   ‚îî‚îÄ Fallback, –µ—Å–ª–∏ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
```

–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ console:
```
üìÇ –ó–∞–≥—Ä—É–∑–∏–ª –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –ø—Ä–∏–Ω—Ç–∞ "NAUMI_REF.png":
   hasConfig: true
   hasTransforms: 6
   hasProductTransforms: 6

  ‚úÖ [–¢–æ–≤–∞—Ä 1] –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–∑–∏—Ü–∏—é –∏–∑ –ö–û–ù–§–ò–ì–ê –ë–î (mockups):
   { x: 1404.24, y: 319.63, scale: 5.2, rotation: 0 }
```

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏–Ω—Ç–∞ –Ω–∞ —Å–∞–π—Ç–µ:
1. –ü–æ–∑–∏—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `transforms` –∏ `productTransforms` (React state)
2. –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `prints_config.json`

### –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ –æ–±–ª–∞–∫–æ:
1. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–Ω—Ç–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –µ–≥–æ –∫–æ–Ω—Ñ–∏–≥ –∏–∑ –ë–î
2. –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–æ–∑–∏—Ü–∏–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
3. –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥ –∏–∑ –ë–î (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)
4. –†–µ–Ω–¥–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –ü–†–ê–í–ò–õ–¨–ù–´–ú–ò —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è–º–∏

## üìù –í—ã–≤–æ–¥

- ‚úÖ **–ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ —Å—Ç—Ä–∞–Ω–Ω—ã–µ, –Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ** (—ç—Ç–æ —Ö–µ—à–∏, –Ω–µ –æ—à–∏–±–∫–∞)
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ 100% –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω—É–∂–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥** (–ø–æ —Ö–µ—à—É –∏–º–µ–Ω–∏)
- ‚úÖ **–†–µ–Ω–¥–µ—Ä –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏** (—Ç—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è)
- ‚úÖ **–ù–∏–∫–∞–∫–æ–π –ø—É—Ç–∞–Ω–∏—Ü—ã –Ω–µ –±—É–¥–µ—Ç** (–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ)
